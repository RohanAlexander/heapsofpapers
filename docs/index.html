<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Easily Download Heaps of PDF and CSV Files • heapsofpapers</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Easily Download Heaps of PDF and CSV Files">
<meta property="og:description" content="Makes it easy to download a large number of files such as PDF files 
    and CSV files, while automatically slowing down requests, letting you know 
    where it is up to, and adjusting for files that have already been downloaded.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">heapsofpapers</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/heapsofpapers.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/get_csvs.html">Getting CSVs</a>
    </li>
    <li>
      <a href="articles/get_html.html">Getting html</a>
    </li>
    <li>
      <a href="articles/get_pdfs.html">Getting PDFs from pre-print servers</a>
    </li>
    <li>
      <a href="articles/s3_setup.html">Setting Up AWS S3 Credentials</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/RohanAlexander/heapsofpapers/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="heapsofpapers-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#heapsofpapers-" class="anchor"></a>heapsofpapers <img src="reference/figures/IMG_0864.png" align="right" height="200">
</h1></div>
<!-- badges: start -->

<p>The goal of <code>heapsofpapers</code> is to make it easy to respectfully get, well, heaps of papers (and CSVs, and websites, and similar). For instance, you may want to understand the state of open code and open data across a bunch of different pre-print repositories, e.g. Collins and Alexander, 2021, and in that case you need a way to quickly download thousands of PDFs.</p>
<p>Essentially, the main function in the package, <code><a href="reference/get_and_save.html">heapsofpapers::get_and_save()</a></code> is a wrapper around a <code>for</code> loop and <code><a href="https://rdrr.io/r/utils/download.file.html">utils::download.file()</a></code>, but there are a bunch of small things that make it handy to use instead of rolling your own each time. For instance, the package automatically slows down your requests, lets you know where it is up to, and adjusts for papers that you’ve already downloaded.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install <code>heapsofpapers</code> from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"RohanAlexander/heapsofpapers"</span><span class="op">)</span></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>Here is an example of getting two papers from <a href="https://osf.io/preprints/socarxiv">SocArXiv</a>, using the main function <code><a href="reference/get_and_save.html">heapsofpapers::get_and_save()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RohanAlexander/heapsofpapers">heapsofpapers</a></span><span class="op">)</span>
<span class="va">two_pdfs</span> <span class="op">&lt;-</span>
  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
    locations_are <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"https://osf.io/preprints/socarxiv/z4qg9/download"</span>,
                      <span class="st">"https://osf.io/preprints/socarxiv/a29h8/download"</span><span class="op">)</span>,
    save_here <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"competing_effects_on_the_average_age_of_infant_death.pdf"</span>,
                  <span class="st">"cesr_an_r_package_for_the_canadian_election_study.pdf"</span><span class="op">)</span>
    <span class="op">)</span>

<span class="fu">heapsofpapers</span><span class="fu">::</span><span class="fu"><a href="reference/get_and_save.html">get_and_save</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">two_pdfs</span>,
  links <span class="op">=</span> <span class="st">"locations_are"</span>,
  save_names <span class="op">=</span> <span class="st">"save_here"</span>
<span class="op">)</span></code></pre></div>
<p>By default, the papers are downloaded into a folder called ‘heaps_of’. You could also specify the directory, for instance, if you would prefer a folder called ‘inputs’. Regardless, if the folder doesn’t exist then you’ll be asked whether you want to create it.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">heapsofpapers</span><span class="fu">::</span><span class="fu"><a href="reference/get_and_save.html">get_and_save</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">two_pdfs</span>,
  links <span class="op">=</span> <span class="st">"locations_are"</span>,
  save_names <span class="op">=</span> <span class="st">"save_here"</span>,
  dir <span class="op">=</span> <span class="st">"inputs"</span>
<span class="op">)</span></code></pre></div>
<p>Let’s say that you had already downloaded some PDFs, but weren’t sure and didn’t want to download them again. You could use <code><a href="reference/check_for_existence.html">heapsofpapers::check_for_existence()</a></code> to check.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">heapsofpapers</span><span class="fu">::</span><span class="fu"><a href="reference/check_for_existence.html">check_for_existence</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">two_pdfs</span>, 
                                   save_names <span class="op">=</span> <span class="st">"save_here"</span><span class="op">)</span></code></pre></div>
<p>If you already have some of the files then <code><a href="reference/get_and_save.html">heapsofpapers::get_and_save()</a></code> allows you to ignore those files, and not download them again, by specifying that <code>dupe_strategy = "ignore"</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">heapsofpapers</span><span class="fu">::</span><span class="fu"><a href="reference/get_and_save.html">get_and_save</a></span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">two_pdfs</span>,
  links <span class="op">=</span> <span class="st">"locations_are"</span>,
  save_names <span class="op">=</span> <span class="st">"save_here"</span>,
  dupe_strategy <span class="op">=</span> <span class="st">"ignore"</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="roadmap" class="section level2">
<h2 class="hasAnchor">
<a href="#roadmap" class="anchor"></a>Roadmap</h2>
<ul>
<li><del>Allow the user to specify how long they would like to wait.</del></li>
<li><del>Add so that it checks whether the file exists and asks the user whether they’d like to re-download that or skip that.</del></li>
<li><del>Add option to save to AWS bucket</del></li>
<li><del>Add something that automatically looks at whether the folder exists and if not, creates it.</del></li>
<li><del>Don’t sleep after the last paper.</del></li>
<li><del>Update check_for_existence()</del></li>
<li><del>Add vignettes of doing this for CSVs and for html.</del></li>
<li><del>Make the printing of the message again optional, or every X or similar, as specified by the user.</del></li>
<li><del>Add some tests!</del></li>
<li><del>Add CI.</del></li>
<li><del>If the directory doesn’t exist, ask if the user wants it to be created and if yes then create it.</del></li>
<li><del>some kind of progress indicator would be great in the console messages (or an option to enable something like that). often, if I’m scraping hundreds of files, I want to know how far into it I am</del></li>
<li><del>for the delay “wiggling” (great call, I love that functionality in wget), may be worth varying it by an increment of the size of the delay. so if i set a second delay, I’d expect the wobble to be of maybe up to 20-25%? if it’s 5sec, that’d be up to a second wobble in either direction.</del></li>
<li><del>Make the behaviour more sophisticated when the file doesn’t exist.</del></li>
<li><del>Update the functionality around dupes.</del></li>
<li><del>Add example around how you can pipe to this e.g. pdfs %&gt;% get_and_save(…)</del></li>
<li>Add message that estimates how long it’ll take and asking whether the user would like to proceed.</li>
<li>Check and develop the s3 behaviour.</li>
<li>Make the length of the pause dependent on the size of the file that is downloaded, by default.</li>
<li>Add a check for any PDFs that are very small (which usually indicates there’s something wrong with them).</li>
<li>Add tests of whether the internet is on.</li>
<li>Option to save to Dropbox.</li>
<li>Add email notification for when it’s done.</li>
</ul>
</div>
<div id="related-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#related-packages" class="anchor"></a>Related packages</h2>
<p>There are many packages that are designed for scraping websites for instance, <a href="https://dmi3kno.github.io/polite/"><code>polite</code></a> and <a href="https://rvest.tidyverse.org/"><code>rvest</code></a>. Those packages are more general and more useful in a wider range of scenarios than ours is. Ours is focused on the specific use-case where you have a large list of items that you need to download.</p>
</div>
<div id="citation" class="section level2">
<h2 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h2>
<p>Please cite the package if you use it: Alexander, Rohan, and A Mahfouz, 2021, ‘heapsofpapers: Easily get heaps of papers’, 24 April, <a href="https://github.com/RohanAlexander/heapsofpapers" class="uri">https://github.com/RohanAlexander/heapsofpapers</a>.</p>
</div>
<div id="thanks" class="section level2">
<h2 class="hasAnchor">
<a href="#thanks" class="anchor"></a>Thanks</h2>
<p>We thank Alex Luscombe, Amy Farrow, Edward Morgan, Monica Alexander, Paul A. Hodgetts, Sharla Gelfand, Thomas William Rosenthal, and Tom Cardoso for their help.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/RohanAlexander/heapsofpapers/">https://​github.com/​RohanAlexander/​heapsofpapers/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/RohanAlexander/heapsofpapers/issues">https://​github.com/​RohanAlexander/​heapsofpapers/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Rohan Alexander <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0003-1279-0700" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>A Mahfouz <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/RohanAlexander/heapsofpapers/actions"><img src="https://github.com/RohanAlexander/heapsofpapers/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Rohan Alexander, A Mahfouz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
